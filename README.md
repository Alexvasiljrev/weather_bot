# weather_bot V2

Бот погоды для telegram

Для запуска необходимо *токен бота* вставить в Docker-compose передать либо переменной при запуске контейнера

Для получения токена бота можно воспользоваться инструкцией https://botcreators.ru/blog/botfather-instrukciya/

## Docker:

**!!! ВНИМАНИЕ !!! Не рекомендуется собирать и запускать контейнер в ручном режиме (см. Изменения в версии V2)**

### Сборка docker image:
`docker build -t my-python-bot .`

### Создание и запуск docker container из docker image: 
`docker run -d --restart=always --name my-bot --env BOT_TOKEN='токен бота без ковычек' my-python-bot`


## Docker-compose:

### Подготовка к запуску Docker-compose:
Указать *токен бота* вместо *<токен бота без ковычек>* в yml-file

### Сборка docker image, создание и запуск docker container из Docker-compose:
`docker-compose up --build -d`

## Изменения в версии V2:

#### Список городов и ссылок теперь хранится не в фале city.txt, а в БД weather_bot_db
#### Приложение и БД поднимается при запуске Docker-compose, при этом инициализируется создание необходимых таблиц и внесение первоначальных значений. Поэтому запуска бота в ручном режиме (docker build/run) не рекомендуется
#### Первоначальные значения повторяют настройки city.txt из предыдущей версии
#### Значения в БД можно добавлять без перезапуска бота. После добавления новых данных, они сразу становятся доступными в боте
#### При добавлении значений необходимо соблюдать осторожность, проверок на корректность значений нет. При некорректных значениях могут возникать непредвиденные ошибки
